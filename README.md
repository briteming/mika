# ssng
ShadowSocks Next Generation :rocket:

## Feature
1. Support socks5 proxy.

## Spec

### Requset
```
iv is random bytes generated by client.
Key used to encrypt data is gengerated by the first part of password.
-----------------
| iv | req data |
-----------------

First block of req data (at least 23 bytes):
Chunck id is a unix time when requst was going to be sent. Server must verify chunck id.
Protocol claims how to resolve user data.
------------------------------------------------------------------------
| ver | cmd | reverse | protocol | protocol related | chunck id | hamc |
------------------------------------------------------------------------
| 1   |  1  |    2    |    1     |      fix         |    8      | 10   |
------------------------------------------------------------------------

tcp(0x1)
--------------------------
| atype | address | port |
--------------------------
|   1   |  fix    |   2  |
--------------------------
http(0x2)
--------------------
| protocol related |
--------------------
|        0         |
--------------------
admin(0x10)

Other chuncks of req data (at least 12 bytes):
Chunck id should increase one after a chunck was sent/recevied successfully. Server and client should hold same chunck id for the same chunck.
------------------------------
| dateLen | hamc | user data |
------------------------------
|   2     | 10   | fix       |
------------------------------
```

### Response
```
iv is same as request.
Key used to encrypt data is gengerated by the last part of password.
-------------
| resp data |
-------------
|     fix   |
-------------
```

## TODO
0. Impl full spec.
1. One time auth against CCA. 
2. Address forbidden.